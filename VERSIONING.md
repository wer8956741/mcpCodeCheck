# 📋 版本管理指南

## 语义化版本控制 (SemVer)

lint-mcp 遵循 [语义化版本控制](https://semver.org/lang/zh-CN/) 规范：

### 版本格式：`主版本号.次版本号.修订号`

- **主版本号 (Major)**：当你做了不兼容的 API 修改
- **次版本号 (Minor)**：当你做了向下兼容的功能性新增
- **修订号 (Patch)**：当你做了向下兼容的问题修正

## 🔄 更新场景和版本选择

### Patch 版本 (1.0.0 → 1.0.1)
**适用场景：**
- 修复 bug
- 性能优化
- 文档更新
- 内部重构（不影响 API）

**示例：**
```bash
# 修复了 vendor 模式检测的 bug
npm version patch
```

### Minor 版本 (1.0.0 → 1.1.0)
**适用场景：**
- 新增功能
- 新增 API 参数（可选）
- 新增工具方法
- 向下兼容的改进

**示例：**
```bash
# 新增了对 TypeScript 文件的支持
npm version minor
```

### Major 版本 (1.0.0 → 2.0.0)
**适用场景：**
- 破坏性 API 更改
- 移除已有功能
- 更改必需参数
- 重大架构调整

**示例：**
```bash
# 更改了 MCP 协议版本，不兼容旧客户端
npm version major
```

## 🚀 快速更新流程

### 方式一：使用更新脚本（推荐）
```bash
npm run update
```
脚本会引导你：
1. 选择版本更新类型
2. 自动构建和测试
3. 发布到 npm
4. 可选推送 git 标签

### 方式二：手动更新
```bash
# 1. 更新版本
npm version patch  # 或 minor/major

# 2. 构建
npm run build

# 3. 发布
npm publish
```

## 📝 更新日志建议

在 README.md 中维护更新日志：

```markdown
## 更新日志

### v1.1.0 (2024-08-20)
- ✨ 新增：支持 TypeScript 文件检查
- 🐛 修复：vendor 模式检测问题
- 📚 文档：更新安装指南

### v1.0.1 (2024-08-19)
- 🐛 修复：MCP 协议兼容性问题
- ⚡ 优化：减少二进制文件大小
```

## 👥 用户更新方式

用户可以通过以下方式获取最新版本：

```bash
# npx 自动使用最新版本
npx lint-mcp@latest

# 更新全局安装
npm update -g lint-mcp

# 检查版本
npm view lint-mcp version
```

## 🔍 版本发布检查清单

发布前确认：
- [ ] 代码测试通过
- [ ] 版本号符合 SemVer 规范
- [ ] 更新了相关文档
- [ ] 二进制文件正常构建
- [ ] npm 登录状态正常

## ⚠️ 注意事项

1. **向下兼容性**：Minor 和 Patch 版本必须保持向下兼容
2. **测试覆盖**：每次更新都应该测试核心功能
3. **文档同步**：API 变更时及时更新文档
4. **用户通知**：重大更新建议在 README 中说明迁移指南

## 🎯 发布策略建议

- **开发阶段**：使用 `0.x.x` 版本号
- **稳定版本**：从 `1.0.0` 开始
- **LTS 版本**：考虑维护长期支持版本
- **预发布版本**：使用 `1.0.0-alpha.1` 等标识
